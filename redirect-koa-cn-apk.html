<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>重定向地址获取</title>
  <script>
    // 版本号
    const version = "1.0.0";

    // 获取重定向地址
    async function getRedirectUrl() {
      // 设置等待时间
      await new Promise(resolve => setTimeout(resolve, 500));

      // 获取重定向地址
      const response = await fetch("http://koa-download.kingsgroup.cn/koa.apk", {
        method: "HEAD",
        mode: "no-cors",
      });

      // 更新网页显示结果
      const redirectUrl = response.headers.get("Location");
      document.getElementById("result").innerHTML = redirectUrl;
    }

    // 页面加载后获取重定向地址
    window.onload = getRedirectUrl();
  </script>
</head>
<body>
  <h1>正在获取重定向地址...</h1>
  <p id="result"></p>
  <p>版本号：{version}</p>
</body>
</html>
